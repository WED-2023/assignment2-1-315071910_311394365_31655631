(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[806],{8806:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});r(2772),r(1249),r(7327),r(1539);var i=function(){var e=this,t=e._self._c;return t("div",[t("br"),t("h1",{staticClass:"title"},[e._v("Search Recipes")]),t("div",{staticClass:"container"},[t("div",{staticClass:"content"},[t("div",{staticClass:"search-bar-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Search for recipes..."},domProps:{value:e.searchQuery},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)},input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),t("button",{staticClass:"search-button",on:{click:e.handleSearch}},[e._v("Search")]),t("button",{staticClass:"reset-button",on:{click:e.resetSearch}},[e._v("Reset")])]),t("div",{staticClass:"filter-container"},[t("div",{staticClass:"filter-group"},[t("label",[e._v("Number of Results")]),t("div",{staticClass:"radio-group"},[t("div",{staticClass:"radio-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.resultLimit,expression:"resultLimit"}],attrs:{type:"radio",id:"limit5",value:"5"},domProps:{checked:e._q(e.resultLimit,"5")},on:{change:function(t){e.resultLimit="5"}}}),t("label",{attrs:{for:"limit5"}},[e._v("5")])]),t("div",{staticClass:"radio-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.resultLimit,expression:"resultLimit"}],attrs:{type:"radio",id:"limit10",value:"10"},domProps:{checked:e._q(e.resultLimit,"10")},on:{change:function(t){e.resultLimit="10"}}}),t("label",{attrs:{for:"limit10"}},[e._v("10")])]),t("div",{staticClass:"radio-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.resultLimit,expression:"resultLimit"}],attrs:{type:"radio",id:"limit15",value:"15"},domProps:{checked:e._q(e.resultLimit,"15")},on:{change:function(t){e.resultLimit="15"}}}),t("label",{attrs:{for:"limit15"}},[e._v("15")])])])]),t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"diet"}},[e._v("Diet")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiet,expression:"selectedDiet"}],staticClass:"dropdown",attrs:{id:"diet"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDiet=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All Diets")]),e._l(e.diets,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)]),t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"cuisine"}},[e._v("Cuisine")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisine,expression:"selectedCuisine"}],staticClass:"dropdown",attrs:{id:"cuisine"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCuisine=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All Cuisines")]),e._l(e.cuisines,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)]),t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"intolerance"}},[e._v("Intolerance")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerance,expression:"selectedIntolerance"}],staticClass:"dropdown",attrs:{id:"intolerance"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedIntolerance=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All Intolerances")]),e._l(e.intolerances,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)])]),e.filteredRecipes.length?t("div",{staticClass:"sort-container"},[t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"sortBy"}},[e._v("Sort By")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],staticClass:"dropdown sort-dropdown",attrs:{id:"sortBy"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortBy=t.target.multiple?r:r[0]},e.handleSort]}},[t("option",{attrs:{value:""}},[e._v("None")]),t("option",{attrs:{value:"readyInMinutes"}},[e._v("Ready In Minutes")]),t("option",{attrs:{value:"popularity"}},[e._v("Likes")])])])]):e._e(),t("div",{staticClass:"results"},[e.filteredRecipes.length?t("div",{staticClass:"recipe-list"},e._l(e.filteredRecipes,(function(e){return t("RecipePreview",{key:e.id,staticClass:"recipe-preview",attrs:{recipe:e}})})),1):e._e(),e.hasSearched&&!e.filteredRecipes.length?t("div",{staticClass:"no-results"},[t("p",[e._v("No recipes found matching your search. Try adjusting the filters or search term.")])]):e._e()]),e.search_results.length?t("div",{staticClass:"results"},[t("h2",[e._v("Last Search Results")]),t("div",{staticClass:"recipe-list"},e._l(e.search_results,(function(e){return t("RecipePreview",{key:e.id,staticClass:"recipe-preview",attrs:{recipe:e}})})),1)]):e._e()])])])},s=[],a=r(124),n=r(8534),l=(r(3210),r(2707),r(5124));const o={components:{RecipePreview:l.Z},data:function(){return{searchQuery:"",filteredRecipes:[],resultLimit:"5",diets:["Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],cuisines:["Mexican","Italian","Chinese","Indian","Greek","Latine"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat","butter"],selectedDiet:"",selectedCuisine:"",selectedIntolerance:"",sortBy:"",search_results:[],hasSearched:!1}},mounted:function(){this.fetchLastSearch()},methods:{fetchLastSearch:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.axios.defaults.withCredentials=!0,t.next=4,e.axios.get(e.$root.store.server_domain+"/users/lastSearch");case 4:r=t.sent,e.search_results=r.data,e.axios.defaults.withCredentials=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleSearch:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasSearched=!0,""!==e.searchQuery.trim()){t.next=4;break}return e.filteredRecipes=[],t.abrupt("return");case 4:return t.prev=4,e.axios.defaults.withCredentials=!0,t.next=8,e.axios.get(e.$root.store.server_domain+"/recipes/search",{params:{query:e.searchQuery,number:e.resultLimit,cuisine:e.selectedCuisine,diet:e.selectedDiet,intolerance:e.selectedIntolerance}});case 8:r=t.sent,e.filteredRecipes=r.data,0===e.filteredRecipes.length?e.noResults=!0:e.noResults=!1,e.handleSort(),e.axios.defaults.withCredentials=!1,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](4),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])})))()},handleSort:function(){var e=this;this.filteredRecipes.length&&this.sortBy&&this.filteredRecipes.sort((function(t,r){return"readyInMinutes"===e.sortBy?t.readyInMinutes-r.readyInMinutes:"popularity"===e.sortBy?r.popularity-t.popularity:0}))},resetSearch:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.searchQuery="",e.filteredRecipes=[],e.selectedDiet="",e.selectedCuisine="",e.selectedIntolerance="",e.sortBy="",e.resultLimit="5",e.hasSearched=!1,t.next=10,e.fetchLastSearch();case 10:case"end":return t.stop()}}),t)})))()}}},c=o;var u=r(1001),d=(0,u.Z)(c,i,s,!1,null,"a1b77422",null);const v=d.exports},4362:(e,t,r)=>{var i=r(1589),s=Math.floor,a=function(e,t){var r=e.length,o=s(r/2);return r<8?n(e,t):l(e,a(i(e,0,o),t),a(i(e,o),t),t)},n=function(e,t){var r,i,s=e.length,a=1;while(a<s){i=a,r=e[a];while(i&&t(e[i-1],r)>0)e[i]=e[--i];i!==a++&&(e[i]=r)}return e},l=function(e,t,r,i){var s=t.length,a=r.length,n=0,l=0;while(n<s||l<a)e[n+l]=n<s&&l<a?i(t[n],r[l])<=0?t[n++]:r[l++]:n<s?t[n++]:r[l++];return e};e.exports=a},8886:(e,t,r)=>{var i=r(8113),s=i.match(/firefox\/(\d+)/i);e.exports=!!s&&+s[1]},256:(e,t,r)=>{var i=r(8113);e.exports=/MSIE|Trident/.test(i)},8008:(e,t,r)=>{var i=r(8113),s=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!s&&+s[1]},6091:(e,t,r)=>{var i=r(6530).PROPER,s=r(7293),a=r(1361),n="​᠎";e.exports=function(e){return s((function(){return!!a[e]()||n[e]()!==n||i&&a[e].name!==e}))}},7327:(e,t,r)=>{"use strict";var i=r(2109),s=r(2092).filter,a=r(1194),n=a("filter");i({target:"Array",proto:!0,forced:!n},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,r)=>{"use strict";var i=r(2109),s=r(1702),a=r(9662),n=r(7908),l=r(6244),o=r(5117),c=r(1340),u=r(7293),d=r(4362),v=r(9341),p=r(8886),h=r(256),f=r(7392),m=r(8008),y=[],_=s(y.sort),g=s(y.push),C=u((function(){y.sort(void 0)})),w=u((function(){y.sort(null)})),x=v("sort"),b=!u((function(){if(f)return f<70;if(!(p&&p>3)){if(h)return!0;if(m)return m<603;var e,t,r,i,s="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)y.push({k:t+i,v:r})}for(y.sort((function(e,t){return t.v-e.v})),i=0;i<y.length;i++)t=y[i].k.charAt(0),s.charAt(s.length-1)!==t&&(s+=t);return"DGBEFHACIJK"!==s}})),k=C||!w||!x||!b,S=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}};i({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&a(e);var t=n(this);if(b)return void 0===e?_(t):_(t,e);var r,i,s=[],c=l(t);for(i=0;i<c;i++)i in t&&g(s,t[i]);d(s,S(e)),r=l(s),i=0;while(i<r)t[i]=s[i++];while(i<c)o(t,i++);return t}})},3210:(e,t,r)=>{"use strict";var i=r(2109),s=r(3111).trim,a=r(6091);i({target:"String",proto:!0,forced:a("trim")},{trim:function(){return s(this)}})}}]);
//# sourceMappingURL=806.db71f4c5.js.map