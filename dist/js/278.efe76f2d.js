"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[278],{8278:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"container d-flex align-items-center justify-content-center"},[r("b-card",{staticClass:"login-card shadow-sm p-4"},[r("h1",{staticClass:"title text-center mb-4"},[e._v("Login")]),r("b-form",{on:{submit:function(r){return r.preventDefault(),e.onLogin.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Username:","label-for":"Username","label-cols-sm":"3"}},[r("b-form-input",{staticClass:"rounded-pill",attrs:{id:"Username",type:"text",state:e.validateState("username"),placeholder:"Enter your username",required:""},model:{value:e.$v.form.username.$model,callback:function(r){e.$set(e.$v.form.username,"$model",r)},expression:"$v.form.username.$model"}}),e.$v.form.username.required?e._e():r("b-form-invalid-feedback",[e._v(" Username is required ")])],1),r("b-form-group",{attrs:{label:"Password:","label-for":"Password","label-cols-sm":"3"}},[r("b-form-input",{staticClass:"rounded-pill",attrs:{id:"Password",type:"password",state:e.validateState("password"),placeholder:"Enter your password",required:""},model:{value:e.$v.form.password.$model,callback:function(r){e.$set(e.$v.form.password,"$model",r)},expression:"$v.form.password.$model"}}),e.$v.form.password.required?e._e():r("b-form-invalid-feedback",[e._v(" Password is required ")])],1),r("div",{staticClass:"d-flex justify-content-center"},[r("b-button",{staticClass:"rounded-pill px-4",attrs:{type:"submit",variant:"primary"}},[e._v("Login")])],1),r("div",{staticClass:"text-center mt-3"},[e._v(" Don't have an account yet? "),r("router-link",{staticClass:"text-primary font-weight-bold",attrs:{to:"/register"}},[e._v("Register here")])],1)],1)],1),e.form.submitError?r("b-alert",{staticClass:"mt-3",attrs:{variant:"danger",dismissible:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},a=[],o=t(124),n=t(8534),i=(t(7658),t(379));t(6699);const l={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i.C1},password:{required:i.C1}}},methods:{validateState:function(e){var r=this.$v.form[e],t=r.$dirty,s=r.$error;return t?!s:null},Login:function(){var e=this;return(0,n.Z)((0,o.Z)().mark((function r(){return(0,o.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.axios.post(e.$root.store.server_domain+"/Login",{username:e.form.username,password:e.form.password},{withCredentials:!0});case 3:r.sent,e.$root.store.login(e.form.username),e.$root.$emit("user-logged-in"),e.$root.$emit("update-meal-count"),e.$router.push("/"),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](0),e.form.submitError=r.t0.response?r.t0.response.data.message:"Unknown error";case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},m=l;var u=t(1001),d=(0,u.Z)(m,s,a,!1,null,"0153273e",null);const c=d.exports}}]);
//# sourceMappingURL=278.efe76f2d.js.map