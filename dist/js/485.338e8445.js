(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[485],{6485:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});r(1249),r(7327),r(1539);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Search Recipes")]),t("div",{staticClass:"content"},[t("div",{staticClass:"search-bar-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"search-input",attrs:{type:"text",placeholder:"Search for recipes..."},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),t("button",{staticClass:"search-button",on:{click:e.handleSearch}},[e._v("Search")]),t("button",{staticClass:"reset-button",on:{click:e.resetSearch}},[e._v("Reset")])]),t("div",{staticClass:"filter-container"},[t("div",{staticClass:"filter-group"},[t("label",[e._v("Number of Results")]),t("div",{staticClass:"radio-group"},[t("div",{staticClass:"radio-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.resultLimit,expression:"resultLimit"}],attrs:{type:"radio",id:"limit5",value:"5"},domProps:{checked:e._q(e.resultLimit,"5")},on:{change:function(t){e.resultLimit="5"}}}),t("label",{attrs:{for:"limit5"}},[e._v("5")])]),t("div",{staticClass:"radio-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.resultLimit,expression:"resultLimit"}],attrs:{type:"radio",id:"limit10",value:"10"},domProps:{checked:e._q(e.resultLimit,"10")},on:{change:function(t){e.resultLimit="10"}}}),t("label",{attrs:{for:"limit10"}},[e._v("10")])]),t("div",{staticClass:"radio-item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.resultLimit,expression:"resultLimit"}],attrs:{type:"radio",id:"limit15",value:"15"},domProps:{checked:e._q(e.resultLimit,"15")},on:{change:function(t){e.resultLimit="15"}}}),t("label",{attrs:{for:"limit15"}},[e._v("15")])])])]),t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"diet"}},[e._v("Diet")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDiet,expression:"selectedDiet"}],staticClass:"dropdown",attrs:{id:"diet"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDiet=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All Diets")]),e._l(e.diets,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)]),t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"cuisine"}},[e._v("Cuisine")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCuisine,expression:"selectedCuisine"}],staticClass:"dropdown",attrs:{id:"cuisine"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCuisine=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All Cuisines")]),e._l(e.cuisines,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)]),t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"intolerance"}},[e._v("Intolerance")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedIntolerance,expression:"selectedIntolerance"}],staticClass:"dropdown",attrs:{id:"intolerance"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedIntolerance=t.target.multiple?r:r[0]}}},[t("option",{attrs:{value:""}},[e._v("All Intolerances")]),e._l(e.intolerances,(function(r){return t("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2)])]),e.filteredRecipes.length?t("div",{staticClass:"sort-container"},[t("div",{staticClass:"filter-group"},[t("label",{staticClass:"filter-label",attrs:{for:"sortBy"}},[e._v("Sort By")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],staticClass:"dropdown sort-dropdown",attrs:{id:"sortBy"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortBy=t.target.multiple?r:r[0]},e.handleSort]}},[t("option",{attrs:{value:""}},[e._v("None")]),t("option",{attrs:{value:"readyInMinutes"}},[e._v("Ready In Minutes")]),t("option",{attrs:{value:"popularity"}},[e._v("Likes")])])])]):e._e(),t("div",{staticClass:"results"},[e.filteredRecipes.length?t("div",{staticClass:"recipe-list"},e._l(e.filteredRecipes,(function(e){return t("RecipePreview",{key:e.id,staticClass:"recipe-preview",attrs:{recipe:e}})})),1):e._e()]),e.search_results.length?t("div",{staticClass:"results"},[t("h2",[e._v("Last Search Results")]),t("div",{staticClass:"recipe-list"},e._l(e.search_results,(function(e){return t("RecipePreview",{key:e.id,staticClass:"recipe-preview",attrs:{recipe:e}})})),1)]):e._e()])])},i=[],a=r(124),n=r(8534),l=(r(3210),r(2707),r(7360));const c={components:{RecipePreview:l.Z},data:function(){return{searchQuery:"",filteredRecipes:[],resultLimit:"5",diets:["Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],cuisines:["Mexican","Italian","Chinese","Indian","Greek","Latine"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat","butter"],selectedDiet:"",selectedCuisine:"",selectedIntolerance:"",sortBy:"",LastSearchcalled:!1,search_results:[],hasSearched:!1}},mounted:function(){this.fetchLastSearch()},methods:{fetchLastSearch:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.axios.defaults.withCredentials=!0,t.next=4,e.axios.get(e.$root.store.server_domain+"/users/lastSearch");case 4:r=t.sent,e.search_results=r.data,e.LastSearchcalled=!0,e.axios.defaults.withCredentials=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},handleSearch:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.searchQuery.trim()){t.next=3;break}return e.filteredRecipes=[],t.abrupt("return");case 3:return t.prev=3,e.axios.defaults.withCredentials=!0,t.next=7,e.axios.get(e.$root.store.server_domain+"/recipes/search",{params:{query:e.searchQuery,number:e.resultLimit,cuisine:e.selectedCuisine,diet:e.selectedDiet,intolerance:e.selectedIntolerance}});case 7:r=t.sent,e.filteredRecipes=r.data,0===e.filteredRecipes.length?e.noResults=!0:e.noResults=!1,e.handleSort(),e.axios.defaults.withCredentials=!1,e.hasSearched=!0,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[3,15]])})))()},handleSort:function(){var e=this;this.filteredRecipes.length&&this.sortBy&&this.filteredRecipes.sort((function(t,r){return"readyInMinutes"===e.sortBy?t.readyInMinutes-r.readyInMinutes:"popularity"===e.sortBy?r.popularity-t.popularity:0}))},resetSearch:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.searchQuery="",e.filteredRecipes=[],e.selectedDiet="",e.selectedCuisine="",e.selectedIntolerance="",e.sortBy="",e.resultLimit="5",e.hasSearched=!1,t.next=10,e.fetchLastSearch();case 10:case"end":return t.stop()}}),t)})))()}}},o=c;var u=r(1001),d=(0,u.Z)(o,s,i,!1,null,"1b2acd9f",null);const v=d.exports},6091:(e,t,r)=>{var s=r(6530).PROPER,i=r(7293),a=r(1361),n="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||n[e]()!==n||s&&a[e].name!==e}))}},3210:(e,t,r)=>{"use strict";var s=r(2109),i=r(3111).trim,a=r(6091);s({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})}}]);
//# sourceMappingURL=485.338e8445.js.map