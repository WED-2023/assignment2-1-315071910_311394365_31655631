(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[918],{6918:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recipe-page"},[e.recipe?t("div",{staticClass:"recipe-content"},[t("div",{staticClass:"recipe-header"},[t("img",{staticClass:"recipe-image",attrs:{src:e.recipe.image}}),t("div",{staticClass:"recipe-info-header"},[t("h1",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))]),t("hr",{staticClass:"title-divider"}),t("div",{staticClass:"recipe-meta"},[t("div",{staticClass:"dietary-buttons"},[e.glutenFree?t("div",{staticClass:"dietary-item"},[t("img",{staticClass:"dietary-icon",attrs:{src:"https://github.com/WED-2023/assignment2-1-315071910_311394365_31655631/blob/main/photos/gluten-free2.png?raw=true",alt:"Gluten-Free"}}),t("span",[e._v("Gluten-Free")])]):e._e(),e.vegetarian?t("div",{staticClass:"dietary-item"},[t("img",{staticClass:"dietary-icon",attrs:{src:"https://github.com/WED-2023/assignment2-1-315071910_311394365_31655631/blob/main/photos/vegetable.png?raw=true",alt:"Vegetarian"}}),t("span",[e._v("Vegetarian")])]):e._e(),e.vegan?t("div",{staticClass:"dietary-item"},[t("img",{staticClass:"dietary-icon",attrs:{src:"https://github.com/WED-2023/assignment2-1-315071910_311394365_31655631/blob/main/photos/vegan.png?raw=true",alt:"Vegan"}}),t("span",[e._v("Vegan")])]):e._e()]),t("div",{staticClass:"time-likes"},[t("div",{staticClass:"item time"},[t("i",{staticClass:"fas fa-clock"}),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes ")]),t("div",{staticClass:"item likes"},[t("i",{staticClass:"fas fa-thumbs-up"}),e._v(" "+e._s(e.recipe.aggregateLikes)+" likes ")]),t("div",{staticClass:"item servings"},[t("i",{staticClass:"fas fa-utensils"}),e._v(" "+e._s(e.recipe.servings)+" servings ")])]),e.$root.store.username?t("button",{staticClass:"favorite-btn",attrs:{"aria-label":"Toggle favorite"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleFavorite.apply(null,arguments)}}},[t("i",{class:e.favorite?"fas fa-heart active":"far fa-heart"}),e._v(" "+e._s(e.favorite?"Remove from My Favorite":"Add to My Favorite")+" ")]):e._e()])])]),t("div",{staticClass:"recipe-details"},[t("div",{staticClass:"recipe-body"},[t("div",{staticClass:"ingredients"},[t("h3",[e._v("Ingredients")]),t("hr",{staticClass:"title-divider"}),t("ul",e._l(e.recipe.extendedIngredients,(function(r,a){return t("li",{key:a+"_"+r.id},[e._v(" "+e._s(r.original)+" ")])})),0)]),t("div",{staticClass:"instructions"},[t("h3",[e._v("Instructions")]),t("hr",{staticClass:"title-divider"}),t("ol",e._l(e.recipe._instructions,(function(r){return t("li",{key:r.number},[e._v(" "+e._s(r.step)+" ")])})),0)])])]),t("div",{staticClass:"recipe-actions"},[e.$root.store.username?t("button",{class:["add-to-meal",{added:e.addedToMeal}],on:{click:e.addToMeal}},[t("i",{class:[e.addedToMeal?"fas fa-check":"fas fa-plus-circle"]}),e._v(" "+e._s(e.addedToMeal?"Added to Meal Plan":"Add to Meal Plan")+" ")]):e._e(),e.$root.store.username?t("button",{staticClass:"start-preparation",on:{click:e.startPreparation}},[t("i",{staticClass:"fas fa-play-circle"}),e._v(" Start Preparation ")]):e._e()])]):e._e()])},i=[];r(9753);function n(e){if(Array.isArray(e))return e}r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(7658);function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,i,n,s,c=[],o=!0,l=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(a=n.call(r)).done)&&(c.push(a.value),c.length!==t);o=!0);}catch(u){l=!0,i=u}finally{try{if(!o&&null!=r["return"]&&(s=r["return"](),Object(s)!==s))return}finally{if(l)throw i}}return c}}var c=r(7553);r(1703),r(6647);function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return n(e)||s(e,t)||(0,c.Z)(e,t)||o()}var u=r(1907),d=r(3698),p=r(5617),v=(r(5827),r(1249),r(8309),r(2222),r(4376)),f=r(7578);const g={data:function(){return{recipe:null,favorite:!1,glutenFree:!1,vegetarian:!1,vegan:!1,addedToMeal:!1}},created:function(){var e=this;return(0,p.Z)((0,u.Z)().mark((function t(){var r,a,i,n,s,c,o,l,p,f,g,h,m;return(0,u.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,v.Ti)(e.$route.params.recipeId);case 3:return r=t.sent,a=r.data.recipe,i=a.analyzedInstructions,n=a.instructions,s=a.extendedIngredients,c=a.aggregateLikes,o=a.readyInMinutes,l=a.servings,p=a.image,f=a.title,g=a.id,h=i.map((function(e){return e.steps[0].step=e.name+e.steps[0].step,e.steps})).reduce((function(e,t){return[].concat((0,d.Z)(e),(0,d.Z)(t))}),[]),m={instructions:n,_instructions:h,analyzedInstructions:i,extendedIngredients:s,aggregateLikes:c,readyInMinutes:o,servings:l,image:p,title:f,id:g},e.recipe=m,t.next=10,e.loadDietaryInfo();case 10:return t.next=12,e.isRecipeMarkAsFavorite();case 12:return t.next=14,e.checkIfRecipeInMeal();case 14:(0,v.Wp)(e.recipe.id),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))()},methods:{loadDietaryInfo:function(){var e=this;return(0,p.Z)((0,u.Z)().mark((function t(){var r,a,i,n,s;return(0,u.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([(0,f.Zr)(e.recipe.id),(0,f.tO)(e.recipe.id),(0,f.kz)(e.recipe.id)]);case 2:r=t.sent,a=l(r,3),i=a[0],n=a[1],s=a[2],e.glutenFree=i.data.glutenFree,e.vegetarian=n.data.vegetarian,e.vegan=s.data.vegan;case 10:case"end":return t.stop()}}),t)})))()},isRecipeMarkAsFavorite:function(){var e=this;return(0,p.Z)((0,u.Z)().mark((function t(){var r;return(0,u.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,v.qZ)(e.recipe.id);case 2:r=t.sent,e.favorite=r.data.favorite;case 4:case"end":return t.stop()}}),t)})))()},checkIfRecipeInMeal:function(){var e=this;return(0,p.Z)((0,u.Z)().mark((function t(){var r;return(0,u.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,v.O0)(e.recipe.id);case 2:r=t.sent,e.addedToMeal=r.data.meal;case 4:case"end":return t.stop()}}),t)})))()},toggleFavorite:function(){this.favorite=!this.favorite,this.favorite?(0,v.pZ)(this.recipe.id):(0,v.VZ)(this.recipe.id)},addToMeal:function(){this.addedToMeal=!this.addedToMeal,this.addedToMeal?(0,v.qm)(this.recipe.id):(0,v.A_)(this.recipe.id)},startPreparation:function(){this.addedToMeal||this.addToMeal(),this.$router.push({name:"RecipePreparation",params:{recipeId:this.recipe.id}})}}},h=g;var m=r(1001),y=(0,m.Z)(h,a,i,!1,null,"65821b05",null);const x=y.exports},3671:(e,t,r)=>{var a=r(9662),i=r(7908),n=r(8361),s=r(6244),c=TypeError,o=function(e){return function(t,r,o,l){a(r);var u=i(t),d=n(u),p=s(u),v=e?p-1:0,f=e?-1:1;if(o<2)while(1){if(v in d){l=d[v],v+=f;break}if(v+=f,e?v<0:p<=v)throw c("Reduce of empty array with no initial value")}for(;e?v>=0:p>v;v+=f)v in d&&(l=r(l,d[v],v,u));return l}};e.exports={left:o(!1),right:o(!0)}},2261:(e,t,r)=>{"use strict";var a=r(6916),i=r(1702),n=r(1340),s=r(7066),c=r(2999),o=r(2309),l=r(30),u=r(9909).get,d=r(9441),p=r(7168),v=o("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,g=f,h=i("".charAt),m=i("".indexOf),y=i("".replace),x=i("".slice),b=function(){var e=/a/,t=/b*/g;return a(f,e,"a"),a(f,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1],C=b||I||_||d||p;C&&(g=function(e){var t,r,i,c,o,d,p,C=this,k=u(C),w=n(e),Z=k.raw;if(Z)return Z.lastIndex=C.lastIndex,t=a(g,Z,w),C.lastIndex=Z.lastIndex,t;var M=k.groups,A=_&&C.sticky,T=a(s,C),E=C.source,R=0,S=w;if(A&&(T=y(T,"y",""),-1===m(T,"g")&&(T+="g"),S=x(w,C.lastIndex),C.lastIndex>0&&(!C.multiline||C.multiline&&"\n"!==h(w,C.lastIndex-1))&&(E="(?: "+E+")",S=" "+S,R++),r=new RegExp("^(?:"+E+")",T)),I&&(r=new RegExp("^"+E+"$(?!\\s)",T)),b&&(i=C.lastIndex),c=a(f,A?r:C,S),A?c?(c.input=x(c.input,R),c[0]=x(c[0],R),c.index=C.lastIndex,C.lastIndex+=c[0].length):C.lastIndex=0:b&&c&&(C.lastIndex=C.global?c.index+c[0].length:i),I&&c&&c.length>1&&a(v,c[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(c[o]=void 0)})),c&&M)for(c.groups=d=l(null),o=0;o<M.length;o++)p=M[o],d[p[0]]=c[p[1]];return c}),e.exports=g},7066:(e,t,r)=>{"use strict";var a=r(9670);e.exports=function(){var e=a(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},2999:(e,t,r)=>{var a=r(7293),i=r(7854),n=i.RegExp,s=a((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),c=s||a((function(){return!n("a","y").sticky})),o=s||a((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:s}},9441:(e,t,r)=>{var a=r(7293),i=r(7854),n=i.RegExp;e.exports=a((function(){var e=n(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,r)=>{var a=r(7293),i=r(7854),n=i.RegExp;e.exports=a((function(){var e=n("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5827:(e,t,r)=>{"use strict";var a=r(2109),i=r(3671).left,n=r(9341),s=r(7392),c=r(5268),o=!c&&s>79&&s<83,l=o||!n("reduce");a({target:"Array",proto:!0,forced:l},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},4916:(e,t,r)=>{"use strict";var a=r(2109),i=r(2261);a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7601:(e,t,r)=>{"use strict";r(4916);var a=r(2109),i=r(6916),n=r(614),s=r(9670),c=r(1340),o=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=/./.test;a({target:"RegExp",proto:!0,forced:!o},{test:function(e){var t=s(this),r=c(e),a=t.exec;if(!n(a))return i(l,t,r);var o=i(a,t,r);return null!==o&&(s(o),!0)}})},9108:(e,t,r)=>{"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}r.d(t,{Z:()=>a})},3698:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});r(9753);var a=r(9108);function i(e){if(Array.isArray(e))return(0,a.Z)(e)}r(2526),r(1817),r(1539),r(2165),r(8783),r(3948),r(1038);function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=r(7553);r(1703),r(6647);function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return i(e)||n(e)||(0,s.Z)(e)||c()}},7553:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});r(7042),r(1539),r(8309),r(1038),r(8783),r(4916),r(7601);var a=r(9108);function i(e,t){if(e){if("string"===typeof e)return(0,a.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,a.Z)(e,t):void 0}}}}]);
//# sourceMappingURL=918.98efbf89.js.map