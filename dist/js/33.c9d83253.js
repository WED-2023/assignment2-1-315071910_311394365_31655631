"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[33],{9033:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});n(8309);var r=function(){var e=this,t=e._self._c;return t("div",[t("br"),e.recipe.title?t("div",{staticClass:"preparation-container"},[t("h1",[e._v(e._s(e.recipe.title))]),t("img",{staticClass:"recipe-image",attrs:{src:e.recipe.image,alt:"Recipe Image"}}),t("p",{domProps:{innerHTML:e._s(e.recipe.summary)}}),t("br"),t("div",{staticClass:"progress-bar-container"},[t("ul",{staticClass:"steps-progress"},e._l(e.steps,(function(n,r){return t("li",{key:r,class:{active:e.currentStepIndex===r,completed:e.currentStepIndex>r},on:{click:function(t){return e.goToStep(r)}}},[t("span",[e.currentStepIndex>r?[e._v("âœ“")]:[e._v(e._s(r+1))]],2),t("p",{class:{"current-step":e.currentStepIndex===r}},[e._v("Step "+e._s(r+1))])])})),0)]),t("div",{staticClass:"servings-selector"},[t("label",{attrs:{for:"servings"}},[e._v("Serving:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.servings,expression:"servings",modifiers:{number:!0}}],attrs:{type:"number",id:"servings",min:"1"},domProps:{value:e.servings},on:{change:e.updateIngredients,input:function(t){t.target.composing||(e.servings=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"content-container"},[t("div",{staticClass:"ingredients-equipment"},[e.currentStep.ingredients&&e.currentStep.ingredients.length?t("div",{staticClass:"ingredients"},[t("h3",[e._v("Ingredients:")]),t("ul",e._l(e.mappedIngredients,(function(n){return t("li",{key:n.id},[t("img",{staticClass:"item-image",attrs:{src:"".concat(n.image),alt:"Ingredient Image"}}),t("span",[e._v(e._s(n.amount)+" "+e._s(n.unit)+" "+e._s(n.name))])])})),0)]):e._e(),e.currentStep.equipment&&e.currentStep.equipment.length?t("div",{staticClass:"equipment"},[t("h3",[e._v("Equipment:")]),t("ul",e._l(e.currentStep.equipment,(function(n){return t("li",{key:n.id},[t("img",{staticClass:"item-image",attrs:{src:"".concat(n.image),alt:"Equipment Image"}}),t("span",[e._v(e._s(n.name))])])})),0)]):e._e()]),t("div",{staticClass:"step-details"},[t("h3",[e._v("Step "+e._s(e.currentStep.number)+":")]),t("p",[e._v(e._s(e.currentStep.step))])]),t("div",{staticClass:"navigation-buttons"},[t("button",{attrs:{disabled:0===e.currentStepIndex},on:{click:e.prevStep}},[e._v("Prev")]),e.currentStepIndex<e.steps.length-1?t("button",{on:{click:e.nextStep}},[e._v("Next")]):t("button",{on:{click:e.completePreparation}},[e._v("Done")])])])]):t("div",[t("p",[e._v("Loading...")])]),t("br")])},i=[],s=n(4452),a=n(1907),c=n(5617),u=(n(9554),n(1539),n(4747),n(1249),n(6977),n(7658),n(9826),n(4376));const p={data:function(){return{recipe:{title:"",image:"",summary:"",analyzedInstructions:[{steps:[]}],extendedIngredients:[]},servings:1,currentStepIndex:0,currentStepCompleted:!1}},created:function(){var e=this;return(0,c.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.recipeId){t.next=3;break}return t.next=3,e.fetchRecipe(e.$route.params.recipeId);case 3:case"end":return t.stop()}}),t)})))()},watch:{"$route.params.recipeId":"fetchRecipe"},methods:{fetchRecipe:function(e){var t=this;return(0,c.Z)((0,a.Z)().mark((function n(){var r;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,u.Ti)(e);case 3:return r=n.sent,t.recipe=r.data.recipe,t.servings=t.recipe.servings,t.recipe.extendedIngredients.forEach((function(e){e.originalAmount=e.amount})),t.updateIngredients(),n.next=10,(0,u.k7)(e);case 10:t.currentStepIndex=n.sent,t.updateProgress(),n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))()},nextStep:function(){this.currentStepIndex<this.steps.length-1&&(this.currentStepIndex+=1,this.currentStepCompleted=!1,this.updateProgress())},prevStep:function(){this.currentStepIndex>0&&(this.currentStepIndex-=1,this.currentStepCompleted=!1,this.updateProgress())},goToStep:function(e){this.currentStepIndex=e,this.currentStepCompleted=!1,this.updateProgress()},updateIngredients:function(){var e=this.servings/this.recipe.servings;this.recipe.extendedIngredients=this.recipe.extendedIngredients.map((function(t){var n=t.originalAmount*e;return(0,s.Z)((0,s.Z)({},t),{},{amount:n.toFixed(2)})}))},completePreparation:function(){(0,u.Ci)(this.recipe.id),this.currentStepIndex+=1,this.currentStepCompleted=!0,this.updateProgress(),alert("Preparation complete!"),this.$router.push({name:"meal-plan"})},updateProgress:function(){(0,u.UX)(this.recipe.id,this.currentStepIndex,this.steps.length)}},computed:{steps:function(){var e;return(null===(e=this.recipe.analyzedInstructions[0])||void 0===e?void 0:e.steps)||[]},currentStep:function(){return this.steps[this.currentStepIndex]||{}},progress:function(){return(this.currentStepIndex+1)/this.steps.length*100},mappedIngredients:function(){var e=this;return this.currentStep.ingredients?this.currentStep.ingredients.map((function(t){var n=e.recipe.extendedIngredients.find((function(e){return e.id===t.id}));return(0,s.Z)((0,s.Z)({},t),{},{amount:n?n.amount:"",unit:n?n.unit:""})})):[]}}},o=p;var d=n(1001),l=(0,d.Z)(o,r,i,!1,null,"955457c8",null);const g=l.exports},3189:(e,t,n)=>{var r=n(9303),i=n(1340),s=n(4488),a=RangeError;e.exports=function(e){var t=i(s(this)),n="",c=r(e);if(c<0||c==1/0)throw a("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(t+=t))1&c&&(n+=t);return n}},6977:(e,t,n)=>{var r=n(2109),i=n(1702),s=n(9303),a=n(863),c=n(3189),u=n(7293),p=RangeError,o=String,d=Math.floor,l=i(c),g=i("".slice),h=i(1..toFixed),v=function(e,t,n){return 0===t?n:t%2===1?v(e,t-1,n*e):v(e*e,t/2,n)},m=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=function(e,t,n){var r=-1,i=n;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},S=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=d(r/t),r=r%t*1e7},x=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=o(e[t]);n=""===n?r:n+l("0",7-r.length)+r}return n},I=u((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!u((function(){h({})}));r({target:"Number",proto:!0,forced:I},{toFixed:function(e){var t,n,r,i,c=a(this),u=s(e),d=[0,0,0,0,0,0],h="",I="0";if(u<0||u>20)throw p("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return o(c);if(c<0&&(h="-",c=-c),c>1e-21)if(t=m(c*v(2,69,1))-69,n=t<0?c*v(2,-t,1):c/v(2,t,1),n*=4503599627370496,t=52-t,t>0){f(d,0,n),r=u;while(r>=7)f(d,1e7,0),r-=7;f(d,v(10,r,1),0),r=t-1;while(r>=23)S(d,1<<23),r-=23;S(d,1<<r),f(d,1,1),S(d,2),I=x(d)}else f(d,0,n),f(d,1<<-t,0),I=x(d)+l("0",u);return u>0?(i=I.length,I=h+(i<=u?"0."+l("0",u-i)+I:g(I,0,i-u)+"."+g(I,i-u))):I=h+I,I}})}}]);
//# sourceMappingURL=33.c9d83253.js.map