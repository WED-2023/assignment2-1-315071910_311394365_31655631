"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[580],{2580:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});n(8309);var r=function(){var e=this,t=e._self._c;return t("div",[t("br"),e.recipe.title?t("div",{staticClass:"preparation-container"},[t("h1",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))]),t("img",{staticClass:"recipe-image",attrs:{src:e.recipe.image||e.defaultImage,alt:"Recipe Image"}}),t("div",{staticClass:"recipe-summary",domProps:{innerHTML:e._s(e.recipe.summary)}}),t("br"),t("div",{staticClass:"progress-bar-container"},[t("ul",{staticClass:"steps-progress"},e._l(e.steps,(function(n,r){return t("li",{key:r,class:{active:e.currentStepIndex===r,completed:e.currentStepIndex>r},on:{click:function(t){return e.goToStep(r)}}},[t("span",[e.currentStepIndex>r?[e._v("âœ“")]:[e._v(e._s(r+1))]],2),t("p",{class:{"current-step":e.currentStepIndex===r}},[e._v("Step "+e._s(r+1))])])})),0)]),t("div",{staticClass:"servings-selector"},[t("label",{attrs:{for:"servings"}},[e._v("Serving:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.servings,expression:"servings",modifiers:{number:!0}}],attrs:{type:"number",id:"servings",min:"1"},domProps:{value:e.servings},on:{change:e.updateIngredients,input:function(t){t.target.composing||(e.servings=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),t("div",{staticClass:"content-container"},[t("div",{staticClass:"ingredients-equipment"},[e.currentStep.ingredients&&e.currentStep.ingredients.length?t("div",{staticClass:"ingredients"},[t("h3",[e._v("Ingredients:")]),t("ul",e._l(e.mappedIngredients,(function(n){return t("li",{key:n.id},[t("img",{staticClass:"item-image",attrs:{src:n.image||e.defaultImage,alt:"Ingredient Image"}}),t("span",[e._v(e._s(n.amount)+" "+e._s(n.unit)+" "+e._s(n.name))])])})),0)]):e._e(),e.currentStep.equipment&&e.currentStep.equipment.length?t("div",{staticClass:"equipment"},[t("h3",[e._v("Equipment:")]),t("ul",e._l(e.currentStep.equipment,(function(n){return t("li",{key:n.id},[t("img",{staticClass:"item-image",attrs:{src:n.image||e.defaultImage,alt:"Equipment Image"}}),t("span",[e._v(e._s(n.name))])])})),0)]):e._e()]),t("div",{staticClass:"step-details"},[t("h3",[e._v("Step "+e._s(e.currentStep.number)+":")]),t("p",[e._v(e._s(e.currentStep.step))])]),t("div",{staticClass:"navigation-buttons"},[t("button",{attrs:{disabled:0===e.currentStepIndex},on:{click:e.prevStep}},[e._v("Prev")]),e.currentStepIndex<e.steps.length-1?t("button",{on:{click:e.nextStep}},[e._v("Next")]):t("button",{on:{click:e.completePreparation}},[e._v("Done")])])])]):t("div",[t("p",[e._v("Loading...")])]),t("br")])},i=[],s=n(3144),a=n(124),c=n(8534),u=(n(2222),n(9554),n(1539),n(4747),n(1249),n(6977),n(7658),n(9826),n(9669)),o=n.n(u);const p={data:function(){return{recipe:{title:"",image:"",readyInMinutes:0,popularity:0,vegan:!1,vegetarian:!1,glutenFree:!1,ingredients:[],instructions:[{steps:[]}],summary:""},servings:1,currentStepIndex:0,currentStepCompleted:!1,defaultImage:"https://cdn.icon-icons.com/icons2/2436/PNG/512/recipe_cutlery_spoon_fork_icon_147447.png"}},created:function(){var e=this;return(0,c.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.recipeId){t.next=3;break}return t.next=3,e.fetchRecipe(e.$route.params.recipeId);case 3:case"end":return t.stop()}}),t)})))()},watch:{"$route.params.recipeId":"fetchRecipe"},methods:{fetchRecipe:function(e){var t=this;return(0,c.Z)((0,a.Z)().mark((function n(){var r;return(0,a.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t.axios.defaults.withCredentials=!0,"number"!==typeof e){n.next=8;break}return n.next=5,o().get("".concat(t.$root.store.server_domain,"/recipes/").concat(e,"/formatted"));case 5:r=n.sent,n.next=11;break;case 8:return n.next=10,o().get("".concat(t.$root.store.server_domain,"/users/my_recipes/").concat(e));case 10:r=n.sent;case 11:t.recipe=r.data,t.servings=t.recipe.servings,t.recipe.ingredients.forEach((function(e){e.originalAmount=e.amount})),t.updateIngredients(),t.currentStepIndex=0,t.axios.defaults.withCredentials=!1,n.next=22;break;case 19:n.prev=19,n.t0=n["catch"](0),console.log(n.t0);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})))()},nextStep:function(){this.currentStepIndex<this.steps.length-1&&(this.currentStepIndex+=1,this.currentStepCompleted=!1)},prevStep:function(){this.currentStepIndex>0&&(this.currentStepIndex-=1,this.currentStepCompleted=!1)},goToStep:function(e){this.currentStepIndex=e,this.currentStepCompleted=!1},updateIngredients:function(){var e=this.servings/this.recipe.servings;this.recipe.ingredients=this.recipe.ingredients.map((function(t){var n=t.originalAmount*e;return(0,s.Z)((0,s.Z)({},t),{},{amount:n.toFixed(2)})}))},completePreparation:function(){alert("Preparation complete!"),this.$router.push({name:"meal-plan"})}},computed:{steps:function(){var e;return(null===(e=this.recipe.instructions[0])||void 0===e?void 0:e.steps)||[]},currentStep:function(){return this.steps[this.currentStepIndex]||{}},mappedIngredients:function(){var e=this;return this.currentStep.ingredients?this.currentStep.ingredients.map((function(t){var n=e.recipe.ingredients.find((function(e){return e.name===t.name}));return(0,s.Z)((0,s.Z)({},t),{},{amount:n?n.amount:"",unit:n?n.unit:""})})):[]}}},d=p;var l=n(1001),m=(0,l.Z)(d,r,i,!1,null,"48646dd2",null);const g=m.exports},3189:(e,t,n)=>{var r=n(9303),i=n(1340),s=n(4488),a=RangeError;e.exports=function(e){var t=i(s(this)),n="",c=r(e);if(c<0||c==1/0)throw a("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(t+=t))1&c&&(n+=t);return n}},6977:(e,t,n)=>{var r=n(2109),i=n(1702),s=n(9303),a=n(863),c=n(3189),u=n(7293),o=RangeError,p=String,d=Math.floor,l=i(c),m=i("".slice),g=i(1..toFixed),v=function(e,t,n){return 0===t?n:t%2===1?v(e,t-1,n*e):v(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},h=function(e,t,n){var r=-1,i=n;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},_=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=d(r/t),r=r%t*1e7},S=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=p(e[t]);n=""===n?r:n+l("0",7-r.length)+r}return n},x=u((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!u((function(){g({})}));r({target:"Number",proto:!0,forced:x},{toFixed:function(e){var t,n,r,i,c=a(this),u=s(e),d=[0,0,0,0,0,0],g="",x="0";if(u<0||u>20)throw o("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return p(c);if(c<0&&(g="-",c=-c),c>1e-21)if(t=f(c*v(2,69,1))-69,n=t<0?c*v(2,-t,1):c/v(2,t,1),n*=4503599627370496,t=52-t,t>0){h(d,0,n),r=u;while(r>=7)h(d,1e7,0),r-=7;h(d,v(10,r,1),0),r=t-1;while(r>=23)_(d,1<<23),r-=23;_(d,1<<r),h(d,1,1),_(d,2),x=S(d)}else h(d,0,n),h(d,1<<-t,0),x=S(d)+l("0",u);return u>0?(i=x.length,x=g+(i<=u?"0."+l("0",u-i)+x:m(x,0,i-u)+"."+m(x,i-u))):x=g+x,x}})}}]);
//# sourceMappingURL=580.8fa06387.js.map